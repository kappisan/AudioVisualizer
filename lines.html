<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>D3 Audio</title>
    <link rel="stylesheet" href="application.css" />
    <link rel="stylesheet" href="toggle-switch.css" />

<style>

body {
  background: #000;
}

/*
ellipse {
      animation: colorchange 50s infinite;
      -webkit-animation: colorchange 50s infinite;
}
*/

rect {
  opacity:  0.4;
}

path { 
    stroke: steelblue;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke-width: 1;
    shape-rendering: crispEdges;
}

.bassline {
    stroke: white;
}

.trebleline {
    stroke: orange;
}

text {
  stroke: white;
}

@keyframes colorchange
{
  0%   {fill: red;}
  25%  {fill: yellow;}
  50%  {fill: blue;}
  75%  {fill: green;}
  100% {fill: red;}
}

@-webkit-keyframes colorchange /* Safari and Chrome - necessary duplicate */
{
  0%   {fill: red;}
  25%  {fill: yellow;}
  50%  {fill: blue;}
  75%  {fill: green;}
  100% {fill: red;}
}

@keyframes colorchangepath
{
  0%   {stroke: red;}
  25%  {stroke: yellow;}
  50%  {stroke: blue;}
  75%  {stroke: green;}
  100% {stroke: red;}
}

@-webkit-keyframes colorchangepath /* Safari and Chrome - necessary duplicate */
{
  0%   {stroke: red;}
  25%  {stroke: yellow;}
  50%  {stroke: blue;}
  75%  {stroke: green;}
  100% {stroke: red;}
}

#svg-container {
  margin: auto;
  left: 0;
  right: 0;
}


ellipse {
      animation: colorchange 50s infinite;
      -webkit-animation: colorchange 50s infinite;
      opacity: 0;
}

path {
  fill: none;
  animation: colorchangepath 50s infinite;
  -webkit-animation: colorchangepath 50s infinite;
  stroke-linecap: round;
}

.mid {
  stroke-width: 4px;
  opacity: 0;
}

.tail {
  stroke-width: 2px;
  opacity: 0;
}






.options-block {
    width: 400px; 
    display: inline-block;
    color: #fff;
    font-family: sans-serif;
}

button {
  width: 400px;
  height: 30px;
}

</style>

  </head>

  <body>
    <audio id="audioElement" src="./audio/Anne - Marie - Ciao Adios (Lyrics _ Lyric Video).mp3"></audio>
    <div>
      <button onclick="document.getElementById('audioElement').play()">Play the Audio</button>
      <button onclick="document.getElementById('audioElement').pause()">Pause the Audio</button>
      <button onclick="document.getElementById('audioElement').volume+=0.1">Increase Volume</button>
      <button onclick="document.getElementById('audioElement').volume-=0.1">Decrease Volume</button>
    </div>

    <div id="svg-container"></div>

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

    <div class="options-block">
      <label class="switch-light switch-candy">
        <input id="lines-checkbox" type="checkbox" onclick="toggleLines()" checked>

        <strong>Tone Lines</strong>
        <span>
          <span>Off</span>
          <span>On</span>
          <a></a>
        </span>
      </label>
    </div>

    <div class="options-block">
      <label class="switch-light switch-candy">
        <input id="sperm-checkbox" type="checkbox" onclick="toggleSperm()">

        <strong>Disco Sperm</strong>
        <span>
          <span>Off</span>
          <span>On</span>
          <a></a>
        </span>
      </label>
    </div>

    <div class="options-block">
      <label class="switch-light switch-candy">
        <input id="rings-checkbox" type="checkbox" onclick="toggleRings()">

        <strong>Rings</strong>
        <span>
          <span>Off</span>
          <span>On</span>
          <a></a>
        </span>
      </label>
    </div>

    <div class="options-block">
      <label class="switch-light switch-candy">
        <input id="bars-checkbox" type="checkbox" onclick="toggleBars()" checked>

        <strong>Bars</strong>
        <span>
          <span>Off</span>
          <span>On</span>
          <a></a>
        </span>
      </label>
    </div>

    <script src="lines.js"></script>
    <script>

      function toggleSperm() {
        console.log("toggleSperm", $("#sperm-checkbox").is(':checked'));
        if ($("#sperm-checkbox").is(':checked')) {

          d3.selectAll(".tail").style("opacity", 1);
          d3.selectAll(".mid").style("opacity", 1);
          d3.selectAll("ellipse").style("opacity", 1);

        } else {

          d3.selectAll(".tail").style("opacity", 0);
          d3.selectAll(".mid").style("opacity", 0);
          d3.selectAll("ellipse").style("opacity", 0);
        }
      }


      function toggleLines() {
        console.log("lines", $("#lines-checkbox").is(':checked'));
        if ($("#lines-checkbox").is(':checked')) {

          d3.selectAll(".bassline").style("opacity", 1);
          d3.selectAll(".trebleline").style("opacity", 1);

        } else {

          d3.selectAll(".bassline").style("opacity", 0);
          d3.selectAll(".trebleline").style("opacity", 0);
        }
      }


      function toggleRings() {
        console.log("rings", $("#rings-checkbox").is(':checked'));
      }

      function toggleBars() {
        console.log("toggleBars", $("#bars-checkbox").is(':checked'));

        if ($("#bars-checkbox").is(':checked')) {

          d3.selectAll("rect").style("opacity", 1);

        } else {

          d3.selectAll("rect").style("opacity", 0);
        }

      }

    </script>
  </body>
</html>
